<mujoco model="costume_R2">
  <compiler angle="radian" meshdir="meshes" texturedir="textures" autolimits="true"/>

  <default>
    <default class="costume_R2">
      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="0"/>
      </default>
      <default class="collision">
        <geom group="3" condim="3" contype="1" conaffinity="1" friction="0.6 0.005 0.0001"/>
      </default>
      <joint damping="0.1" frictionloss="0.01" armature="0.01"/>
    </default>
  </default>

  <!-- Assets -->
  <asset>
    <!-- Base mesh -->
    <mesh name="base_link" file="base_link.STL" />
    <!-- Left front leg meshes -->
    <mesh name="LF_rail_link" file="LF_rail_link.STL" />
    <mesh name="LF_yaw_link" file="LF_yaw_link.STL" />
    <mesh name="LF_wheel_link" file="LF_wheel_link.STL" />
    <!-- Left rear leg meshes -->
    <mesh name="LR_rail_link" file="LR_rail_link.STL" />
    <mesh name="LR_yaw_link" file="LR_yaw_link.STL" />
    <mesh name="LR_wheel_link" file="LR_wheel_link.STL" />
    <!-- Right front leg meshes -->
    <mesh name="RF_rail_link" file="RF_rail_link.STL" />
    <mesh name="RF_yaw_link" file="RF_yaw_link.STL" />
    <mesh name="RF_wheel_link" file="RF_wheel_link.STL" />
    <!-- Right rear leg meshes -->
    <mesh name="RR_rail_link" file="RR_rail_link.STL" />
    <mesh name="RR_yaw_link" file="RR_yaw_link.STL" />
    <mesh name="RR_wheel_link" file="RR_wheel_link.STL" />

    <!-- Materials -->
    <material name="base_material" rgba="0.898 0.918 0.929 1" />
    <material name="rail_material" rgba="0.647 0.620 0.588 1" />
    <material name="yaw_material" rgba="0.898 0.918 0.929 1" />
    <material name="wheel_material" rgba="0.298 0.298 0.298 1" />
  </asset>

  <option timestep="0.002"/>

  <!-- World body -->
  <worldbody>
    <!-- Base link - positioned at starting area -->
    <body name="base_link" childclass="costume_R2" pos="-5.2 1.4 0.5">
      <inertial pos="0.001206 -0.353411 0.016987" mass="2.80469"
               diaginertia="0.015653 0.013749 0.027267" />

      <freejoint/>
      <geom name="base_geom" class="visual" mesh="base_link"
            material="base_material" />

      <!-- Left Front Leg -->
      <body name="LF_rail_link" pos="0.30193 -0.654 0.33384"
            quat="0 -0.7071 0 -0.7071">
        <inertial pos="0.000323 0.001222 -0.193011" mass="0.423892"
                 diaginertia="0.002686 0.002689 0.000063" />

        <geom name="LF_rail_geom_visual" class="visual" mesh="LF_rail_link"
              material="rail_material" />

        <joint name="LF_rail_joint" type="slide" axis="0 0 -1"
               limited="true" range="0 0.25"
               armature="0.01" damping="10" />

        <body name="LF_yaw_link" pos="0 0 -0.3778">
          <inertial pos="0.000568 0.000630 -0.032724" mass="0.077001"
                   diaginertia="0.000025 0.000025 0.000017" />

          <geom name="LF_yaw_geom_visual" class="visual" mesh="LF_yaw_link"
                material="yaw_material" />

          <joint name="LF_yaw_joint" type="hinge" axis="0 0 1"
                 limited="true" range="-3.14 3.14"
                 armature="0.001" damping="0.1" />

          <body name="LF_wheel_link" pos="-0.0098995 -0.0098995 -0.0465"
                quat="0.7071 0 0 -0.7071">
            <inertial pos="0 0 -0.010192" mass="0.057721"
                     diaginertia="0.000026 0.000026 0.000043" />

            <geom name="LF_wheel_geom_visual" class="visual" mesh="LF_wheel_link"
                  material="wheel_material" />
            <geom name="LF_wheel_geom_collision" class="collision" size="0.05" pos="0 0 0" type="sphere"/>

            <joint name="LF_wheel_joint" type="hinge" axis="0 0 -1"
                   armature="0.001" damping="0.05" />
          </body>
        </body>
      </body>

      <!-- Left Rear Leg -->
      <body name="LR_rail_link" pos="0.30193 -0.054 0.33384"
            quat="0 -0.7071 0 -0.7071">
        <inertial pos="-0.000289 0.001114 -0.191038" mass="0.466755"
                 diaginertia="0.003109 0.003112 0.000068" />

        <geom name="LR_rail_geom_visual" class="visual" mesh="LR_rail_link"
              material="rail_material" />

        <joint name="LR_rail_joint" type="slide" axis="0 0 -1"
               limited="true" range="0 0.25"
               armature="0.01" damping="10" />

        <body name="LR_yaw_link" pos="0 0 -0.3778">
          <inertial pos="-0.000630 0.000568 -0.032724" mass="0.077001"
                   diaginertia="0.000025 0.000025 0.000017" />

          <geom name="LR_yaw_geom_visual" class="visual" mesh="LR_yaw_link"
                material="yaw_material" />

          <joint name="LR_yaw_joint" type="hinge" axis="0 0 1"
                 limited="true" range="-3.14 3.14"
                 armature="0.001" damping="0.1" />

          <body name="LR_wheel_link" pos="0.0098995 -0.0098995 -0.0465"
                quat="0.7071 0 0 0.7071">
            <inertial pos="0 0 -0.010192" mass="0.057721"
                     diaginertia="0.000026 0.000026 0.000043" />

            <geom name="LR_wheel_geom_visual" class="visual" mesh="LR_wheel_link"
            <geom name="LR_wheel_geom_collision" class="collision" size="0.05" pos="0 0 0" type="sphere"/>
                  material="wheel_material" />

            <joint name="LR_wheel_joint" type="hinge" axis="0 0 -1"
                   armature="0.001" damping="0.05" />
          </body>
        </body>
      </body>

      <!-- Right Front Leg -->
      <body name="RF_rail_link" pos="-0.29807 -0.654 0.33384"
            quat="0 -0.7071 0 -0.7071">
        <inertial pos="0.000289 -0.001114 -0.191038" mass="0.466755"
                 diaginertia="0.003109 0.003112 0.000068" />

        <geom name="RF_rail_geom_visual" class="visual" mesh="RF_rail_link"
              material="rail_material" />

        <joint name="RF_rail_joint" type="slide" axis="0 0 -1"
               limited="true" range="0 0.25"
               armature="0.01" damping="10" />

        <body name="RF_yaw_link" pos="0 0 -0.3778">
          <inertial pos="0.000630 -0.000568 -0.032724" mass="0.077001"
                   diaginertia="0.000025 0.000025 0.000017" />

          <geom name="RF_yaw_geom_visual" class="visual" mesh="RF_yaw_link"
                material="yaw_material" />

          <joint name="RF_yaw_joint" type="hinge" axis="0 0 1"
                 limited="true" range="-3.14 3.14"
                 armature="0.001" damping="0.1" />

          <body name="RF_wheel_link" pos="-0.0098995 0.0098995 -0.0465"
                quat="0.7071 0 0 -0.7071">
            <inertial pos="0 0 -0.010192" mass="0.057721"
                     diaginertia="0.000026 0.000026 0.000043" />

            <geom name="RF_wheel_geom_visual" class="visual" mesh="RF_wheel_link"
            <geom name="RF_wheel_geom_collision" class="collision" size="0.05" pos="0 0 0" type="sphere"/>
                  material="wheel_material" />

            <joint name="RF_wheel_joint" type="hinge" axis="0 0 -1"
                   armature="0.001" damping="0.05" />
          </body>
        </body>
      </body>

      <!-- Right Rear Leg -->
      <body name="RR_rail_link" pos="-0.29807 -0.054 0.33384"
            quat="0 -0.7071 0 -0.7071">
        <inertial pos="-0.000205 -0.000712 -0.191038" mass="0.466755"
                 diaginertia="0.003109 0.003112 0.000068" />

        <geom name="RR_rail_geom_visual" class="visual" mesh="RR_rail_link"
              material="rail_material" />

        <joint name="RR_rail_joint" type="slide" axis="0 0 -1"
               limited="true" range="0 0.25"
               armature="0.01" damping="10" />

        <body name="RR_yaw_link" pos="0 0 -0.3778">
          <inertial pos="-0.000568 -0.000630 -0.032724" mass="0.077001"
                   diaginertia="0.000025 0.000025 0.000017" />

          <geom name="RR_yaw_geom_visual" class="visual" mesh="RR_yaw_link"
                material="yaw_material" />

          <joint name="RR_yaw_joint" type="hinge" axis="0 0 1"
                 limited="true" range="-3.14 3.14"
                 armature="0.001" damping="0.1" />

          <body name="RR_wheel_link" pos="0.0098995 0.0098995 -0.0465"
                quat="0.7071 0 0 0.7071">
            <inertial pos="0 0 -0.010192" mass="0.057721"
                     diaginertia="0.000026 0.000026 0.000043" />

            <geom name="RR_wheel_geom_visual" class="visual" mesh="RR_wheel_link"
            <geom name="RR_wheel_geom_collision" class="collision" size="0.05" pos="0 0 0" type="sphere"/>
                  material="wheel_material" />

            <joint name="RR_wheel_joint" type="hinge" axis="0 0 -1"
                   armature="0.001" damping="0.05" />
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!-- Actuators -->
  <actuator>
    <!-- Rail joints (linear actuators) -->
    <motor name="LF_rail_motor" joint="LF_rail_joint" gear="1"
           ctrlrange="-40 40" ctrllimited="true" />
    <motor name="LR_rail_motor" joint="LR_rail_joint" gear="1"
           ctrlrange="-40 40" ctrllimited="true" />
    <motor name="RF_rail_motor" joint="RF_rail_joint" gear="1"
           ctrlrange="-40 40" ctrllimited="true" />
    <motor name="RR_rail_motor" joint="RR_rail_joint" gear="1"
           ctrlrange="-40 40" ctrllimited="true" />

    <!-- Yaw joints -->
    <motor name="LF_yaw_motor" joint="LF_yaw_joint" gear="1"
           ctrlrange="-1 1" ctrllimited="true" />
    <motor name="LR_yaw_motor" joint="LR_yaw_joint" gear="1"
           ctrlrange="-1 1" ctrllimited="true" />
    <motor name="RF_yaw_motor" joint="RF_yaw_joint" gear="1"
           ctrlrange="-1 1" ctrllimited="true" />
    <motor name="RR_yaw_motor" joint="RR_yaw_joint" gear="1"
           ctrlrange="-1 1" ctrllimited="true" />

    <!-- Wheel joints -->
    <motor name="LF_wheel_motor" joint="LF_wheel_joint" gear="1"
           ctrlrange="-10 10" ctrllimited="true" />
    <motor name="LR_wheel_motor" joint="LR_wheel_joint" gear="1"
           ctrlrange="-10 10" ctrllimited="true" />
    <motor name="RF_wheel_motor" joint="RF_wheel_joint" gear="1"
           ctrlrange="-10 10" ctrllimited="true" />
    <motor name="RR_wheel_motor" joint="RR_wheel_joint" gear="1"
           ctrlrange="-10 10" ctrllimited="true" />
  </actuator>

  <!-- Contact configuration -->
  <contact>
    <!-- Exclude collisions between connected bodies -->
    <exclude body1="LF_rail_link" body2="LF_yaw_link" />
    <exclude body1="LF_yaw_link" body2="LF_wheel_link" />
    <exclude body1="LR_rail_link" body2="LR_yaw_link" />
    <exclude body1="LR_yaw_link" body2="LR_wheel_link" />
    <exclude body1="RF_rail_link" body2="RF_yaw_link" />
    <exclude body1="RF_yaw_link" body2="RF_wheel_link" />
    <exclude body1="RR_rail_link" body2="RR_yaw_link" />
    <exclude body1="RR_yaw_link" body2="RR_wheel_link" />
  </contact>

  <!-- Sensors -->
  <sensor>
    <!-- Joint position sensors -->
    <jointpos name="LF_rail_pos" joint="LF_rail_joint" />
    <jointpos name="LR_rail_pos" joint="LR_rail_joint" />
    <jointpos name="RF_rail_pos" joint="RF_rail_joint" />
    <jointpos name="RR_rail_pos" joint="RR_rail_joint" />

    <jointpos name="LF_yaw_pos" joint="LF_yaw_joint" />
    <jointpos name="LR_yaw_pos" joint="LR_yaw_joint" />
    <jointpos name="RF_yaw_pos" joint="RF_yaw_joint" />
    <jointpos name="RR_yaw_pos" joint="RR_yaw_joint" />

    <jointpos name="LF_wheel_pos" joint="LF_wheel_joint" />
    <jointpos name="LR_wheel_pos" joint="LR_wheel_joint" />
    <jointpos name="RF_wheel_pos" joint="RF_wheel_joint" />
    <jointpos name="RR_wheel_pos" joint="RR_wheel_joint" />

    <!-- Base orientation sensor -->
    <accelerometer name="base_accel" body="base_link" />
    <gyro name="base_gyro" body="base_link" />
  </sensor>
</mujoco>